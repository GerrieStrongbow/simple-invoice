!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="54ff86ab-c6c9-4002-b704-9c4c2f50201e",e._sentryDebugIdIdentifier="sentry-dbid-54ff86ab-c6c9-4002-b704-9c4c2f50201e")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2760],{96884:function(e,t,n){Promise.resolve().then(n.bind(n,50478)),Promise.resolve().then(n.bind(n,13400)),Promise.resolve().then(n.bind(n,47938)),Promise.resolve().then(n.bind(n,50377)),Promise.resolve().then(n.bind(n,21925)),Promise.resolve().then(n.bind(n,91058)),Promise.resolve().then(n.bind(n,9845)),Promise.resolve().then(n.bind(n,50338)),Promise.resolve().then(n.bind(n,1399)),Promise.resolve().then(n.bind(n,8506)),Promise.resolve().then(n.bind(n,12642)),Promise.resolve().then(n.bind(n,91824)),Promise.resolve().then(n.bind(n,24536)),Promise.resolve().then(n.bind(n,54339)),Promise.resolve().then(n.bind(n,64458)),Promise.resolve().then(n.bind(n,92075)),Promise.resolve().then(n.bind(n,95899)),Promise.resolve().then(n.bind(n,71931)),Promise.resolve().then(n.bind(n,90966)),Promise.resolve().then(n.bind(n,71156)),Promise.resolve().then(n.bind(n,53701)),Promise.resolve().then(n.bind(n,47465)),Promise.resolve().then(n.bind(n,35640)),Promise.resolve().then(n.bind(n,70747)),Promise.resolve().then(n.bind(n,74453)),Promise.resolve().then(n.bind(n,9)),Promise.resolve().then(n.bind(n,18897)),Promise.resolve().then(n.bind(n,19395)),Promise.resolve().then(n.t.bind(n,93968,23)),Promise.resolve().then(n.bind(n,30433)),Promise.resolve().then(n.bind(n,9653))},39022:function(e,t,n){"use strict";n.d(t,{M:function(){return x},x:function(){return h}});var a=n(19395),s=n(62708);let r=[{name:"accounts/mock-account-1/locations/mock-location-1",title:"Mock Company HQ",metadata:{placeId:"mock-place-id-1"},storefrontAddress:{locality:"Mock City",administrativeArea:"Mock State",postalCode:"12345",addressLines:["123 Mock Street"]}},{name:"accounts/mock-account-1/locations/mock-location-2",title:"Mock Company Branch",metadata:{placeId:"mock-place-id-2"},storefrontAddress:{locality:"Another City",administrativeArea:"Another State",postalCode:"54321",addressLines:["456 Mock Avenue"]}}];var i=n(19860),o=n(87379),l=n.n(o),d=n(24706),c=n.n(d),u=n(64142);let m=c().create({baseURL:"https://mybusinessbusinessinformation.googleapis.com/v1",headers:{"Content-Type":u.bT.APP_JSON}}),p=async e=>{var t,n,a;let s=await f(e);if(!(null===(t=s.accounts)||void 0===t?void 0:t.length))return null!==(n=e.mockLocations)&&void 0!==n?n:[];if(e.mockError)throw Error("Mock error: Unable to fetch Google My Business locations");try{let t=await Promise.all(s.accounts.map(t=>y({accountId:t.name,accessToken:e.accessToken})));return[...l()(t.reduce((e,t)=>[...e,...t.locations],[]),e=>e.name),...null!==(a=e.mockLocations)&&void 0!==a?a:[]]}catch(t){if(e.mockLocations)return e.mockLocations;throw t}},y=async e=>{var t;let n=await m.get("/".concat(e.accountId,"/locations?readMask=name,title,metadata,storefrontAddress"),{headers:{Authorization:"Bearer ".concat(e.accessToken)}});return{...n.data,locations:null!==(t=n.data.locations)&&void 0!==t?t:[]}},f=async e=>{var t;let n=await m.get("/accounts",{headers:{Authorization:"Bearer ".concat(e.accessToken)}});return{...n.data,accounts:null!==(t=n.data.accounts)&&void 0!==t?t:[]}},x={businesses:["google-business","businesses"]},h=e=>{let{gmbBusinessesMockEnabled:t,gmbBusinessesErrorEnabled:n}=(0,i.s)(),o=[...x.businesses,{mockEnabled:t,errorEnabled:n}],l=t&&!s.yv?r:void 0;return(0,a.useQuery)({queryKey:o,queryFn:()=>p({accessToken:e,mockLocations:l,mockError:n}),refetchOnWindowFocus:!1})}},77774:function(e,t,n){"use strict";n.d(t,{NK:function(){return s.N},Y0:function(){return a.AlertBanner}});var a=n(47396);n(61603),n(16243);var s=n(96755)},96755:function(e,t,n){"use strict";var a,s;n.d(t,{N:function(){return a}}),(s=a||(a={})).Banner="banner",s.Modal="modal"},19860:function(e,t,n){"use strict";n.d(t,{s:function(){return a}});let a=(0,n(4878).Ue)(e=>({gmbBusinessesMockEnabled:!1,gmbBusinessesErrorEnabled:!1,toggleGmbBusinessesMockEnabled:()=>e(e=>({gmbBusinessesMockEnabled:!e.gmbBusinessesMockEnabled})),toggleGmbBusinessesErrorEnabled:()=>e(e=>({gmbBusinessesErrorEnabled:!e.gmbBusinessesErrorEnabled}))}))},9777:function(e,t,n){"use strict";n.d(t,{jV:function(){return o.ButtonCloseModal},iA:function(){return i.ClientModal},u_:function(){return a.Modal},dd:function(){return r}});var a=n(59845);let s=(0,n(4878).Ue)(e=>({isOpen:!1,open:()=>e({isOpen:!0}),close:()=>e({isOpen:!1}),toggle:()=>e(e=>({isOpen:!e.isOpen}))})),r=()=>{let{isOpen:e,open:t,close:n,toggle:a}=s();return{isOpen:e,open:t,close:n,toggle:a}};var i=n(92112),o=n(98752)},80331:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var a=n(30161),s=n(69021),r=n(17892);let i=e=>Object.fromEntries(Object.entries(e).filter(e=>{let[t,n]=e;return void 0!==n})),o=async e=>{let t=(null==e?void 0:e.user)||await (0,a.getUser)();if(!t)throw Error("User not found");let n=await (0,s.l)(),o=await (0,r.Y)();return i({"x-is-account":t.account.objectId,"x-is-user":t.objectId,"x-is-country":t.countryCode||void 0,"x-is-installation":n,"x-is-session":o,"x-parse-session-token":o})}},69227:function(e,t,n){"use strict";n.d(t,{Y:function(){return s}});var a=n(59792);let s=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={"x-is-app":"app.invoicesimple.com","x-is-platform":"web","x-is-version":a.env.REACT_APP_VERSION||"99999.0.0-".concat(a.env.REACT_APP_ENV),...t.headers},s=await fetch(e,{...t,headers:n});if(!s.ok)throw Error("Failed to fetch data from next");return s.json()}},36543:function(e,t,n){"use strict";n.d(t,{F:function(){return a}});let a="/api/v3/app"},35123:function(e,t,n){"use strict";n.d(t,{X:function(){return d}});var a=n(1845),s=n(12272),r=n(59792);let i=/dev|stag/i.test(r.env.REACT_APP_ENV||""),o=s.t.NEXT_PUBLIC_OPTIMIZELY_SDK_KEY,l=null,d=()=>(l||(l=(0,a.Fs)({sdkKey:o,logLevel:i?"warning":"error",datafileOptions:{autoUpdate:!0,updateInterval:i?6e4:3e5},eventBatchSize:10})),l)},45172:function(e,t,n){"use strict";n.d(t,{Kj:function(){return r},S5:function(){return i},cI:function(){return o}});var a=n(9411),s=n(69021);let r="https://app.impact.com/campaign-campaign-info-v2/Invoice-Simple.brand",i=async e=>{try{let n=window.ire,a=await (0,s.l)().catch(()=>"");if(n){var t;n("identify",{customerId:e.userId,customerEmail:null!==(t=null==e?void 0:e.email)&&void 0!==t?t:"",customProfileId:a})}}catch(t){a.D.error("Failed to track Impact user - nextjs",{error:t,attributes:e})}},o=async e=>{try{let a=window.ire,r=await (0,s.l)().catch(()=>"");if(a){var t,n;a("trackConversion",46690,{orderId:"IR_AN_64_TS",customerId:null!==(t=null==e?void 0:e.userId)&&void 0!==t?t:"",customerEmail:null!==(n=null==e?void 0:e.email)&&void 0!==n?n:"",customProfileId:r},{verifySiteDefinitionMatch:!0})}}catch(t){a.D.error("Failed to track Impact account - nextjs",{error:t,attributes:e})}}},62374:function(e,t,n){"use strict";n.d(t,{g:function(){return r},u:function(){return s}});var a=n(12272);let s=()=>{if(a.t.NEXT_PUBLIC_REACT_APP_PAYPAL_DASHBOARD_URL)window.open(a.t.NEXT_PUBLIC_REACT_APP_PAYPAL_DASHBOARD_URL,"_blank");else throw Error("No PAYPAL_DASHBOARD_URL setup")},r=()=>{window.open("https://dashboard.stripe.com/dashboard","_blank")}},2144:function(e,t,n){"use strict";n.d(t,{I:function(){return c}});var a=n(9411),s=n(17892),r=n(61449);let i=async(e,t)=>{let{objectId:n,...a}=e;await (0,r.W)("/classes/Setting",{method:"POST",cache:"no-cache",body:JSON.stringify({...a}),headers:{"X-Parse-Session-Token":t}})};var o=n(67691);function l(e,t){if(e&&o.MP.safeParse(e).success)return{type:o.Sd.Str,remoteId:e.name,valStr:new String(e.value).valueOf(),updated:new Date().getTime(),deleted:!1,objectId:t};if(e&&o.cj.safeParse(e).success)return{type:o.Sd.Bool,remoteId:e.name,valBool:new Boolean(e.value).valueOf(),updated:new Date().getTime(),deleted:!1,objectId:t};if(e&&o.pP.safeParse(e).success)return{type:o.Sd.Num,remoteId:e.name,valNum:new Number(e.value).valueOf(),updated:new Date().getTime(),deleted:!1,objectId:t};if(e&&o.KV.safeParse(e).success)return{type:o.Sd.Dec,remoteId:e.name,valDec:new Number(e.value).valueOf(),updated:new Date().getTime(),deleted:!1,objectId:t};throw Error("Invalid state reached when constructing parseSetting from setting: ".concat(e))}let d=async(e,t)=>{await (0,r.W)("/classes/Setting/".concat(e.objectId),{method:"PUT",cache:"no-cache",body:JSON.stringify({...e}),headers:{"X-Parse-Session-Token":t}})},c=async e=>{let t=await (0,s.Y)();t&&await Promise.all(e.map(e=>u(e,t)))},u=async(e,t)=>{try{if(e.parseObjectId){let n=l(e.setting,e.parseObjectId);await d(n,t)}else{let n=l(e.setting,"unused");await i(n,t)}}catch(t){a.D.error(t,{errorMsg:"Error while saving setting",data:e})}}},67691:function(e,t,n){"use strict";n.d(t,{KV:function(){return y},MP:function(){return l},Sd:function(){return s},cj:function(){return c},pP:function(){return m},x4:function(){return j}});var a,s,r=n(51668),i=n(64142);let o=r.G0([r.i0(i.Vd.CompanyLogo),r.i0(i.Vd.CompanyIndustry),r.i0(i.Vd.CompanyIndustryGCID),r.i0(i.Vd.ThemeColor),r.i0(i.Vd.TaxLabel),r.i0(i.Vd.LocaleCurrencyCode),r.i0(i.Vd.InvoiceLastNo),r.i0(i.Vd.EstimateLastNo),r.i0(i.Vd.CompanyName),r.i0(i.Vd.ContactEmail),r.i0(i.Vd.CompanyAddressLine1),r.i0(i.Vd.CompanyAddressLine2),r.i0(i.Vd.CompanyAddressLine3),r.i0(i.Vd.ContactPhone),r.i0(i.Vd.ContactMobile),r.i0(i.Vd.ContactFax),r.i0(i.Vd.CompletedInvoiceNumber),r.i0(i.Vd.ContactPhoneDialCode),r.i0(i.Vd.CompanyBusinessNumber),r.i0(i.Vd.RenameInvoiceTitle),r.i0(i.Vd.RenameEstimateTitle),r.i0(i.Vd.LocaleLanguage),r.i0(i.Vd.RequestReviewLink1),r.i0(i.Vd.ContactWebsiteUrl),r.i0(i.Vd.ContactName),r.i0(i.Vd.DefaultEstimateNote),r.i0(i.Vd.DefaultInvoiceNote),r.i0(i.Vd.CompanySize),r.i0(i.Vd.CompanyAnnualRevenueAmount),r.i0(i.Vd.CompanyAnnualRevenueCurrency),r.i0(i.Vd.LocaleDateFormat),r.i0(i.Vd.EmailDefaultMessage),r.i0(i.Vd.RenameCompanyBusinessNumber),r.i0(i.Vd.RenameItemQuantity),r.i0(i.Vd.RenameItemRate),r.i0(i.Vd.PaymentBank),r.i0(i.Vd.PaymentPaypalEmail),r.i0(i.Vd.PaymentCheque),r.i0(i.Vd.PaymentOther),r.i0(i.Vd.PaymentTerms),r.i0(i.Vd.RenameEstimateEstimateNumber),r.i0(i.Vd.RenameInvoiceInvoiceNumber),r.i0(i.Vd.StripeAccessToken),r.i0(i.Vd.StripeEmail),r.i0(i.Vd.StripePublishableKey),r.i0(i.Vd.ReferralLink),r.i0(i.Vd.TrialFeaturesExplored)]),l=r.Ry({name:o,value:r.Z_()}),d=r.G0([r.i0(i.Vd.TaxInclusive),r.i0(i.Vd.RequestReviewEnabled),r.i0(i.Vd.EstimateSignatureRequired),r.i0(i.Vd.PaymentAlwaysAddSurcharge),r.i0(i.Vd.EmailCopySender),r.i0(i.Vd.InvoiceHideQuantityAndRate),r.i0(i.Vd.InvoiceCompleteLogged),r.i0(i.Vd.InvoiceComplete2Logged),r.i0(i.Vd.PaymentQRCodeEnabled),r.i0(i.Vd.AcornFinancing),r.i0(i.Vd.AutomaticReviewsEnabled)]),c=r.Ry({name:d,value:r.O7()}),u=r.G0([r.i0(i.Vd.TaxType),r.i0(i.Vd.PaymentFeesType),r.i0(i.Vd.ThemeTemplate),r.i0(i.Vd.LocaleTaxYearStartMonth)]),m=r.Ry({name:u,value:r.Rx()});r.Ry({origin:r.Km(["paymentIntentRequest"]).optional(),modal:r.Km(["edge"]).optional(),"unbranded-upgrade-modal":r.Km(["1"]).optional()});let p=r.i0(i.Vd.TaxRate),y=r.Ry({name:p,value:r.Rx()});r.G0([l,c,m,y]),(a=s||(s={})).Str="str",a.Bool="bool",a.Dec="dec",a.Num="num";let f=r.Ry({remoteId:o,type:r.i0("str"),valStr:r.Z_()}),x=r.Ry({remoteId:d,type:r.i0("bool"),valBool:r.O7()}),h=r.Ry({remoteId:u,type:r.i0("num"),valNum:r.Rx()}),b=r.Ry({remoteId:p,type:r.i0("dec"),valDec:r.Rx()}),v=r.Ry({deleted:r.O7(),objectId:r.Z_(),updated:r.jt(r.Rx())}),g=r.G0([f,x,h,b]),j=r.G0([g,v])},99547:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});let a=e=>!e||!(e.username&&e.username.match(/new_/))},76242:function(e,t,n){"use strict";n.d(t,{V:function(){return a}});let a=(0,n(4878).Ue)(e=>({alert:null,showAlert:t=>e(()=>({alert:t})),hideAlert:()=>e(()=>({alert:null}))}))},98071:function(e,t,n){"use strict";n.d(t,{T:function(){return s}});var a=n(59792);let s=()=>a.env.REACT_APP_SLUG_COMMIT},27466:function(e,t,n){"use strict";var a,s,r;n.d(t,{K:function(){return s},Z:function(){return a}}),(a||(a={})).PHONE="phone",(r=s||(s={})).ACKNOWLEDGE_MODAL_SHOWN="acknowledge_modal_shown",r.COMPANY_NAME="company_name",r.IS_GUEST="is_guest",r.PAYMENT_STATUS="payment_status",r.SIGNED_UP_DATE="signed_up",r.WEB_ONBOARDING_V1_START="web_onboarding_v1_start",r.WEB_ONBOARDING_V1_DETAILS="web_onboarding_v1_details",r.WEB_ONBOARDING_V1_SIZE="web_onboarding_v1_size",r.WEB_ONBOARDING_V1_REVENUE="web_onboarding_v1_revenue",r.WEB_ONBOARDING_V1_LOGO="web_onboarding_v1_logo",r.WEB_ONBOARDING_V1_PAYMENTS="web_onboarding_v1_payments",r.WEB_ONBOARDING_V1_TEMPLATE="web_onboarding_v1_template",r.WEB_ONBOARDING_V1_FINISH="web_onboarding_v1_finish",r.IS_SUBCRIPTION_ACTIVE="is_subscription_active",r.HAS_FREE_TRIAL_SUBSCRIPTION="has_free_trial_subscription",r.EXPERIMENTS="experiments"},30393:function(e,t,n){"use strict";n.d(t,{V:function(){return s}});var a=n(50092);let s=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.useFlags)(...t)}},11835:function(e,t,n){"use strict";n.d(t,{v:function(){return s}});let a=/.+@.+\..+/,s=e=>"string"==typeof e&&a.test(e.trim())},65833:function(e,t,n){"use strict";var a,s,r,i,o;n.d(t,{Lm:function(){return d},Wu:function(){return a},X2:function(){return c},a$:function(){return l}}),(i=a||(a={})).EXPENSE_DROP_ZONE_INPUT="expense-drop-zone-input",i.EXPENSE_DROP_ZONE_PROVIDER="expense-drop-zone-provider",i.NEW_EXPENSE="new-expense",i.REFERRAL_SHARE="referral-share",i.REFERRAL_HISTORY="referral-history",i.REFERRAL_SIGNUP="referral-signup",i.REFERRAL_PURCHASE="referral-purchase",i.NAVBAR_UPGRADE_CROWN="navbar-upgrade-crown",i.DEPOSITS="DEPOSITS",i.INVOICE_TEMPLATES="invoice-templates",i.TRIAL_BANNER="trial-banner",i.REVIEW_LINK="reviewLink",i.INVOICE_SIGNATURE="invoice-signature",i.INVALID_REFERRAL_LINK="invalidReferralLink",i.SETTING="setting",i.REACTIVATION_PROMPT="reactivation-prompt",i.DOC_LIMIT_BANNER="doc-limit-banner",i.FREE_TRIAL="free-trial",i.EDGE_REWARDS="edge-rewards",i.CANCEL_PROMO="cancel-promo",i.AUTOMATIC_REVIEWS="automatic-reviews",i.BILLING_ADDRESS="billing-address",(s||(s={})).REMINDER="reminder",(o=r||(r={})).REF="ref",o.ACTION="action",o.INVOICE="invoice",o.ESTIMATE="estimate",o.INVOICE_NO="invoice-no",o.FEATURE="feature",o.ID="id",o.EMAIL_DOCTYPE="email-docType",o.INVOICE_SEND_ACTION="invoice-email-send",o.TO_EMAIL="to-email",o.EMAIL="email",o.MESSAGE="message",o.LABOR_COSTS="labor-costs",o.MATERIAL_COSTS="material-costs",o.INVOICE_ID="invoiceId",o.CREATE_DOCUMENT="create-document",o.SEND_DOCUMENT="send-document",o.DOCUMENT_ACTIONS="document-action",o.OLD_PAYPAL_ONBOARDING="old-paypal-onboarding",o.PAYPAL_ONBOARDING="paypal-onboarding",o.STRIPE_ONBOARDING="stripe-onboarding",o.ESTIMATE_EDITOR="estimate-editor",o.SETTINGS="settings",o.RETURN_PATH="returnPath",o.SUCCESS_RETURN_PATH="successReturnPath";let l={...r,...a,...s},d=e=>new URLSearchParams(window.location.search).get(e),c=function(){let{ref:e,feature:t,successReturnPath:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=new URLSearchParams;return(n&&a.set("successReturnPath",n),e&&a.set("ref",e),t&&a.set("feature",t),a.toString())?"/subscription?".concat(a):"/subscription"}},13323:function(e,t,n){"use strict";n.d(t,{A:function(){return i},M:function(){return r}});var a=n(9411),s=n(11835);let r=async e=>{let{userId:t,email:n}=e;if(t&&null!==n&&(0,s.v)(n)){var r;return null===(r=window.Verisoul)||void 0===r?void 0:r.account({id:t,email:n}).catch(t=>a.D.error("Failed to track Verisoul user - nextjs",{error:t,attributes:e}))}},i=async()=>{var e;return null===(e=window.Verisoul)||void 0===e?void 0:e.reinitialize().catch(e=>a.D.error("Failed to reset Verisoul session",{error:e}))}},50478:function(e,t,n){"use strict";n.d(t,{J:function(){return m},TrialProvider:function(){return u}});var a=n(37821),s=n(58078),r=n(64142),i=n(9411),o=n(2144);let l=(0,s.createContext)(void 0),d={"business-info":null,"add-photos":null,"client-signature":null,"add-expense":null,"invoice-signature":null},c=async e=>{await (0,o.I)([{setting:{name:r.Vd.TrialFeaturesExplored,value:JSON.stringify(e)}}])},u=e=>{let{children:t,savedFeatures:n}=e,[r,o]=(0,s.useState)(n||d),u=async(e,t)=>{if("completed"===r[e])return;let n={...r,[e]:t};o(n);try{await c(n)}catch(e){i.D.error(e),o(r)}};return(0,a.jsx)(l.Provider,{value:{features:r,updateFeature:u,resetFeatures:()=>{o(d)}},"data-sentry-element":"unknown","data-sentry-component":"TrialProvider","data-sentry-source-file":"use-trial-store.tsx",children:t})},m=()=>{let e=(0,s.useContext)(l);if(!e)throw Error("useTrialStore must be used within TrialProvider");return e}},13400:function(e,t,n){"use strict";n.r(t),n.d(t,{ModalPaypalOnboarding:function(){return A}});var a=n(37821),s=n(58078),r=n(68018),i=n(9777),o=n(60315),l=n(30393),d=n(11626),c=n(1309),u=n(42236),m=n(40540),p=n(51985),y=n(76439),f=n(31957),x=n(34992),h=n(9845),b=n(72249);let v=()=>{var e;let{ft:t}=(0,u.Y)(),{closeModal:n}=(0,o.G)(),{trackAction:r}=(0,h.D)(),i={activePaymentProvider:m.f.paypal,source:(0,p.D)()},l=(0,s.useCallback)(async()=>{try{r("payments-cta",{...i,component:m.Z.modalPaypalACHUpgrade}),await (0,y.l)({achUpgrade:!0}),n()}catch(e){(0,f.jx)({title:"Error upgrading paypal ach",body:e.message,isClosable:!0}),n()}},[]),{allISPaymentMethods:v}=(0,x.C)(),g=null===(e=v.find(e=>e.name===d.wc.PAYPAL_ACH))||void 0===e?void 0:e.fees,j=(null==g?void 0:g.percentage)||1,I=(null==g?void 0:g.maxAmount)||15;return(0,a.jsxs)("section",{"data-sentry-component":"AchModalContent","data-sentry-source-file":"ach-modal.tsx",children:[(0,a.jsx)(c.L,{onClickXIcon:()=>{r("payments-cta",{...i,component:m.Z.modalClosePaypalACHUpgrade}),n()},headerMessage:t({id:"paypalModal.prompt.upgradeACH"}),dataTestId:"paypal-modal-x-button","data-sentry-element":"TopContainer","data-sentry-source-file":"ach-modal.tsx"}),(0,a.jsxs)("main",{children:[(0,a.jsx)(b.Ac,{"data-sentry-element":"PaypalModalImg","data-sentry-source-file":"ach-modal.tsx"}),(0,a.jsxs)(b.hc,{"data-sentry-element":"ValueProps","data-sentry-source-file":"ach-modal.tsx",children:[(0,a.jsx)("p",{className:"pt-4",children:t({id:"paypalModal.prompt.upgradeACHDescription1"})}),(0,a.jsx)("p",{className:"pt-4",children:t({id:"paypalModal.prompt.upgradeACHDescription2"},{percentage:j,maxAmount:I})}),(0,a.jsx)("p",{className:"pt-4",children:t({id:"paypalModal.prompt.upgradeACHDescription3"})}),(0,a.jsxs)("p",{className:"pt-4 text-xs",children:[t({id:"paypalModal.prompt.tosPrefix"}),"\xa0",(0,a.jsx)("a",{"data-testid":"paypal-modal-tos-link",onClick:()=>{r("payments-cta",{...i,component:m.Z.tos})},href:"https://www.invoicesimple.com/payments-terms",target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)("b",{className:"text-link-primary",children:t({id:"paypalModal.prompt.tos"})})})]})]})]}),(0,a.jsx)(b.qO,{dataTestId:"paypal-modal-submit-button",handleClick:l,buttonMessage:t({id:"paypalModal.prompt.continueToPaypal"}),"data-sentry-element":"ButtonContainer","data-sentry-source-file":"ach-modal.tsx"})]})};var g=n(14325),j=n(76242);let I=()=>{let{ft:e}=(0,u.Y)(),{closeModal:t}=(0,o.G)(),{show:n}=(0,g.o)(),{hideAlert:s}=(0,j.V)(),{trackAction:r}=(0,h.D)(),i={activePaymentProvider:m.f.paypal,source:(0,p.D)()},l=async()=>{s();try{r("payments-cta",{...i,component:m.Z.modalClosed}),n(),t()}catch(e){(0,f.jx)({title:"Error contact support for closed status",body:e.message,isClosable:!0})}};return(0,a.jsxs)("section",{"data-sentry-component":"ClosedContent","data-sentry-source-file":"closed-content.tsx",children:[(0,a.jsx)(c.L,{onClickXIcon:()=>{r("payments-cta",{...i,component:m.Z.modalCloseClosed}),t()},headerMessage:e({id:"paypalModal.prompt.closed.title"}),dataTestId:"paypal--modal-x-button","data-sentry-element":"TopContainer","data-sentry-source-file":"closed-content.tsx"}),(0,a.jsxs)("main",{children:[(0,a.jsx)(b.Ac,{"data-sentry-element":"PaypalModalImg","data-sentry-source-file":"closed-content.tsx"}),(0,a.jsx)(b.hc,{"data-sentry-element":"ValueProps","data-sentry-source-file":"closed-content.tsx",children:(0,a.jsx)("p",{className:"font-[400] font-inter",children:e({id:"paypalModal.prompt.closed.description"})})})]}),(0,a.jsx)(b.qO,{dataTestId:"paypal--modal-submit-button",handleClick:l,buttonMessage:e({id:"paypalModal.prompt.contactSupport"}),"data-sentry-element":"ButtonContainer","data-sentry-source-file":"closed-content.tsx"})]})};var N=n(64142),P=n(33461),C=n(29205);let E=()=>{let{ft:e}=(0,u.Y)(),{closeModal:t}=(0,o.G)(),{hideAlert:n}=(0,j.V)(),{trackAction:s,user:r}=(0,h.D)(),{show:i}=(0,P.R)(),l={activePaymentProvider:"PayPal",source:(0,p.D)()},d=async()=>{let t="".concat(e({id:"paypalModal.prompt.tosPrefix"})," ").concat(e({id:"paypalModal.prompt.tos"}));await (0,C.Kt)({consentMessage:t,consentValue:"v0",consentType:N.RX.PAYPAL_ONBOARDING,consentStatus:N.lg.CONSENT_GIVEN,user:r})},x=async()=>{n();try{s("payments-cta",{...l,component:m.Z.modalInitial}),await (0,y.l)({isNewTab:!0,paypalRedesign:!0}),d(),t()}catch(e){(0,f.jx)({title:"Error initiating PayPal onboarding",body:e.message,isClosable:!0})}};return(0,a.jsxs)("section",{"data-sentry-component":"InitialContent","data-sentry-source-file":"initial-content.tsx",children:[(0,a.jsx)(c.L,{onClickXIcon:()=>{s("payments-cta",{...l,component:m.Z.modalCloseInitial}),t()},headerMessage:e({id:"paypalModal.prompt.title"}),dataTestId:"paypal--modal-x-button","data-sentry-element":"TopContainer","data-sentry-source-file":"initial-content.tsx"}),(0,a.jsxs)("main",{children:[(0,a.jsx)(b.Ac,{"data-sentry-element":"PaypalModalImg","data-sentry-source-file":"initial-content.tsx"}),(0,a.jsxs)(b.hc,{"data-sentry-element":"ValueProps","data-sentry-source-file":"initial-content.tsx",children:[(0,a.jsx)("b",{className:"font-[500]",children:e({id:"paypalModal.prompt.description1"})}),(0,a.jsxs)("ul",{className:"py-0 p-8 marker:font-bold list-disc	",children:[(0,a.jsx)("li",{className:"my-4 font-[300]",children:e({id:"paypalModal.prompt.listItem1Description"})}),(0,a.jsx)("li",{className:"my-4 font-[300]",children:e({id:"paypalModal.prompt.listItem2Description"})}),(0,a.jsx)("li",{className:"my-4 font-[300]",children:e({id:"paypalModal.prompt.listItem3Description"})})]}),(0,a.jsxs)("p",{className:"font-light font-inter my-4",children:[e({id:"stripeModal.prompt.initial.supportPrefix"}),"\xa0",(0,a.jsx)("a",{"data-testid":"paypal-modal-tos-link",onClick:()=>{i(),s("payments-cta",{...l,component:m.Z.contactSupport}),t()},className:"text-blue-600 font-bold cursor-pointer",children:e({id:"stripeModal.prompt.initial.support"})})]}),(0,a.jsxs)("p",{className:"font-light font-inter text-xs",children:[e({id:"stripeModal.prompt.tosPrefix"}),"\xa0",(0,a.jsx)("a",{"data-testid":"paypal-modal-tos-link",onClick:()=>{s("payments-cta",{...l,component:m.Z.tos})},className:"text-blue-600 font-bold",href:"https://www.invoicesimple.com/payments-terms",target:"_blank",rel:"noopener noreferrer",children:e({id:"stripeModal.prompt.tos"})})]})]})]}),(0,a.jsx)(b.qO,{dataTestId:"paypal--modal-submit-button",handleClick:x,buttonMessage:e({id:"paypalModal.prompt.goToPaypal"}),"data-sentry-element":"ButtonContainer","data-sentry-source-file":"initial-content.tsx"})]})};var _=n(62374);let T=()=>{let{ft:e}=(0,u.Y)(),{closeModal:t}=(0,o.G)(),{isPrimaryEmailConfirmed:n}=(0,o.G)(),r=n(),{trackAction:i}=(0,h.D)(),l={activePaymentProvider:m.f.paypal,source:(0,p.D)()},d=[!r&&e({id:"paypalModal.prompt.checkYourInboxToVerifyEmail"}),e({id:"paypalModal.prompt.connectYourBankAccount"}),e({id:"paypalModal.prompt.turnOnAutomaticTransfers"})].filter(Boolean),y=(0,s.useCallback)(async()=>{try{i("payments-cta",{...l,component:r?m.Z.modalOnboardedEmailConfirmed:m.Z.modalOnboarded}),(0,_.u)(),t()}catch(e){(0,f.jx)({title:"Error initiating PayPal onboarding",body:e.message,isClosable:!0}),t()}},[]);return(0,a.jsxs)("section",{"data-sentry-component":"OnboardingContent","data-sentry-source-file":"onboarded-content.tsx",children:[(0,a.jsx)(c.L,{onClickXIcon:()=>{i("payments-cta",{...l,component:r?m.Z.modalCloseOnboardedEmailConfirmed:m.Z.modalCloseOnboarded}),t()},headerMessage:e({id:"paypalModal.prompt.finishSetup"}),dataTestId:"paypal--modal-x-button","data-sentry-element":"TopContainer","data-sentry-source-file":"onboarded-content.tsx"}),(0,a.jsxs)("main",{children:[(0,a.jsx)(b.Ac,{"data-sentry-element":"PaypalModalImg","data-sentry-source-file":"onboarded-content.tsx"}),(0,a.jsxs)(b.hc,{"data-sentry-element":"ValueProps","data-sentry-source-file":"onboarded-content.tsx",children:[(0,a.jsx)("b",{children:e({id:"paypalModal.prompt.almostReadyToAccept"})}),(0,a.jsx)("p",{className:"pt-4",children:e({id:"paypalModal.prompt.continueToPaypalToFinishSetup"})}),(0,a.jsx)("ol",{className:"px-[1.8rem] list-decimal",children:d.map((e,t)=>(0,a.jsx)("li",{className:"pt-4",children:e},t))})]})]}),(0,a.jsx)(b.qO,{dataTestId:"paypal--modal-submit-button",handleClick:y,buttonMessage:e({id:"paypalModal.prompt.continueToPaypal"}),"data-sentry-element":"ButtonContainer","data-sentry-source-file":"onboarded-content.tsx"})]})},w=()=>{let{ft:e}=(0,u.Y)(),{closeModal:t}=(0,o.G)(),{trackAction:n}=(0,h.D)(),r={activePaymentProvider:m.f.paypal,source:(0,p.D)()},i=(0,s.useCallback)(async()=>{try{n("payments-cta",{...r,component:m.Z.modalPending}),await (0,y.l)({isNewTab:!0,paypalRedesign:!0}),t()}catch(e){(0,f.jx)({title:"Error initiating PayPal onboarding",body:e.message,isClosable:!0}),t()}},[]);return(0,a.jsxs)("section",{"data-sentry-component":"PendingContent","data-sentry-source-file":"pending-content.tsx",children:[(0,a.jsx)(c.L,{onClickXIcon:()=>{n("payments-cta",{...r,component:m.Z.modalClosePending}),t()},headerMessage:e({id:"paypalModal.prompt.finishSetup"}),dataTestId:"paypal--modal-x-button","data-sentry-element":"TopContainer","data-sentry-source-file":"pending-content.tsx"}),(0,a.jsxs)("main",{children:[(0,a.jsx)(b.Ac,{"data-sentry-element":"PaypalModalImg","data-sentry-source-file":"pending-content.tsx"}),(0,a.jsxs)(b.hc,{"data-sentry-element":"ValueProps","data-sentry-source-file":"pending-content.tsx",children:[(0,a.jsx)("b",{children:e({id:"paypalModal.prompt.almostReadyToAccept"})}),(0,a.jsx)("p",{className:"pt-4",children:e({id:"paypalModal.prompt.continueToPaypalToFinish"})})]})]}),(0,a.jsx)(b.qO,{dataTestId:"paypal--modal-submit-button",handleClick:i,buttonMessage:e({id:"paypalModal.prompt.continueToPaypal"}),"data-sentry-element":"ButtonContainer","data-sentry-source-file":"pending-content.tsx"})]})},A=()=>{let{isModalOpen:e,closeModal:t}=(0,o.G)(),{isPaypalInitial:n,isPaypalClosed:d,isPaypalPending:c,isPaypalOnboarded:u,isACHUpgradeEligible:m}=(0,o.G)(),{paypal_v_stripe_variant:p}=(0,l.V)(["paypal_v_stripe_variant"]),y=(0,r.Z)(),f=m()&&y&&!p.enabled,x=(0,s.useRef)(null);return(0,a.jsxs)(i.u_,{ref:x,open:e,onClose:t,"data-sentry-element":"Modal","data-sentry-component":"ModalPaypalOnboarding","data-sentry-source-file":"modal-paypal-onboarding.tsx",children:[n()&&(0,a.jsx)(E,{}),d()&&(0,a.jsx)(I,{}),c()&&(0,a.jsx)(w,{}),u()&&(0,a.jsx)(T,{}),f&&(0,a.jsx)(v,{})]})}},47938:function(e,t,n){"use strict";n.r(t),n.d(t,{ModalStripeOnboarding:function(){return j}});var a=n(37821),s=n(58078),r=n(9777),i=n(57659),o=n(64142),l=n(1309),d=n(42236),c=n(33461),u=n(29205),m=n(40540),p=n(51985),y=n(67580),f=n(18294),x=n(9845),h=n(72249);let b=()=>{var e,t;let{ft:n}=(0,d.Y)(),{origin:r,closeModal:b}=(0,i.M)(),{trackAction:v,user:g}=(0,x.D)(),{show:j}=(0,c.R)(),I={activePaymentProvider:m.f.stripe,source:(0,p.D)()},N=(0,s.useCallback)(async()=>{let e="".concat(n({id:"stripeModal.prompt.tosPrefix"})," ").concat(n({id:"stripeModal.prompt.tos"}));(0,f.Z)(g),await (0,u.Kt)({consentStatus:o.lg.CONSENT_GIVEN,consentMessage:e,consentValue:"v0",consentType:o.RX.STRIPE_ONBOARDING,user:g})},[]),P=(0,s.useCallback)(async()=>{try{v("payments-cta",{...I,component:m.Z.modalInitial}),await (0,y.S)(r,!0),N(),b()}catch(e){}},[]),C=null!==(t=null==g?void 0:null===(e=g.countryCode)||void 0===e?void 0:e.toUpperCase())&&void 0!==t?t:"US";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{"data-testid":"stripeInitialModal"}),(0,a.jsx)(l.L,{onClickXIcon:()=>{v("payments-cta",{...I,component:m.Z.modalCloseInitial}),b()},headerMessage:n({id:"stripeModal.prompt.title"}),dataTestId:"stripe--modal-x-button","data-sentry-element":"TopContainer","data-sentry-source-file":"initial-content.tsx"}),(0,a.jsxs)("main",{children:[(0,a.jsx)(h.Q0,{url:{US:"/images/kb-illustration.US.png",CA:"/images/kb-illustration.CA.png"}[C],width:826,height:472,"data-sentry-element":"Illustration","data-sentry-source-file":"initial-content.tsx"}),(0,a.jsxs)(h.hc,{"data-sentry-element":"ValueProps","data-sentry-source-file":"initial-content.tsx",children:[(0,a.jsx)("b",{children:n({id:"stripeModal.prompt.description1"})}),(0,a.jsxs)("ul",{className:"py-0 p-8 marker:font-bold list-disc font-light font-inter leading-6",children:[(0,a.jsx)("li",{className:"my-4",children:n({id:"stripeModal.prompt.listItem1Description"})}),(0,a.jsx)("li",{className:"my-4",children:n({id:{US:"stripeModal.prompt.listItem2Description.US",CA:"stripeModal.prompt.listItem2Description.CA"}[C]})}),(0,a.jsx)("li",{className:"my-4",children:n({id:"stripeModal.prompt.listItem3Description"})})]}),(0,a.jsxs)("p",{className:"font-light font-inter my-4",children:[n({id:"stripeModal.prompt.initial.supportPrefix"}),"\xa0",(0,a.jsx)("a",{"data-testid":"stripe-modal-tos-link",onClick:()=>{j(),v("payments-cta",{...I,component:m.Z.contactSupport}),b()},className:"text-blue-600 font-bold cursor-pointer",children:n({id:"stripeModal.prompt.initial.support"})})]}),(0,a.jsxs)("p",{className:"font-light font-inter text-xs",children:[n({id:"stripeModal.prompt.tosPrefix"}),"\xa0",(0,a.jsx)("a",{"data-testid":"stripe-modal-tos-link",onClick:()=>{v("payments-cta",{...I,component:m.Z.tos})},className:"text-blue-600 font-bold",href:"https://www.invoicesimple.com/payments-terms",target:"_blank",rel:"noopener noreferrer",children:n({id:"stripeModal.prompt.tos"})})]})]})]}),(0,a.jsx)(h.qO,{dataTestId:"stripe--modal-submit-button",handleClick:P,buttonMessage:n({id:"stripeModal.prompt.goToStripe"}),"data-sentry-element":"ButtonContainer","data-sentry-source-file":"initial-content.tsx"})]})},v=()=>{let{ft:e}=(0,d.Y)(),{origin:t,closeModal:n}=(0,i.M)(),{trackAction:r}=(0,x.D)(),o={activePaymentProvider:m.f.stripe,source:(0,p.D)()},c=(0,s.useCallback)(async()=>{try{r("payments-cta",{...o,component:m.Z.modalPending}),await (0,y.S)(t,!0),n()}catch(e){}},[]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{"data-testid":"stripePendingModal"}),(0,a.jsx)(l.L,{dataTestId:"stripe--modal-x-button",onClickXIcon:()=>{r("payments-cta",{...o,component:m.Z.modalClosePending}),n()},headerMessage:e({id:"stripeModal.pending.prompt.title"}),"data-sentry-element":"TopContainer","data-sentry-source-file":"pending-content.tsx"}),(0,a.jsxs)("main",{children:[(0,a.jsx)(h.Q0,{url:"/images/kb-illustration.png",width:826,height:472,"data-sentry-element":"Illustration","data-sentry-source-file":"pending-content.tsx"}),(0,a.jsxs)(h.hc,{"data-sentry-element":"ValueProps","data-sentry-source-file":"pending-content.tsx",children:[(0,a.jsx)("b",{children:e({id:"stripeModal.prompt.description1"})}),(0,a.jsx)("p",{className:"pt-4 font-light font-inter",children:e({id:"stripeModal.pending.prompt.description2"})})]})]}),(0,a.jsx)(h.qO,{dataTestId:"stripe--modal-submit-button",handleClick:c,buttonMessage:e({id:"stripeModal.pending.prompt.cta"}),"data-sentry-element":"ButtonContainer","data-sentry-source-file":"pending-content.tsx"})]})},g=()=>{let{ft:e}=(0,d.Y)(),{closeModal:t}=(0,i.M)(),{trackAction:n}=(0,x.D)(),s={activePaymentProvider:m.f.stripe,source:(0,p.D)()};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{"data-testid":"stripePendingVerificationModal"}),(0,a.jsx)(l.L,{dataTestId:"stripe--modal-x-button",onClickXIcon:()=>{n("payments-cta",{...s,component:m.Z.modalClosePendingVerification}),t()},headerMessage:e({id:"stripeModal.verification.prompt.title"}),"data-sentry-element":"TopContainer","data-sentry-source-file":"pending-verification-content.tsx"}),(0,a.jsxs)("main",{children:[(0,a.jsx)(h.Q0,{url:"/images/kb-illustration.png",width:826,height:472,"data-sentry-element":"Illustration","data-sentry-source-file":"pending-verification-content.tsx"}),(0,a.jsxs)(h.hc,{"data-sentry-element":"ValueProps","data-sentry-source-file":"pending-verification-content.tsx",children:[(0,a.jsx)("b",{children:e({id:"stripeModal.verification.prompt.description1"})}),(0,a.jsx)("p",{className:"pt-4 font-light font-inter",children:e({id:"stripeModal.verification.prompt.description2"})})]})]}),(0,a.jsx)(h.qO,{dataTestId:"stripe--modal-submit-button",handleClick:()=>{n("payments-cta",{...s,component:m.Z.modalPendingVerification}),t()},buttonMessage:e({id:"stripeModal.verification.prompt.ctaText"}),"data-sentry-element":"ButtonContainer","data-sentry-source-file":"pending-verification-content.tsx"})]})},j=()=>{let{isStripeInitial:e,isStripePending:t,isStripePendingVerification:n,isModalOpen:o,closeModal:l}=(0,i.M)(),d=(0,s.useRef)(null);return(0,a.jsxs)(r.u_,{ref:d,open:o,onClose:l,"data-sentry-element":"Modal","data-sentry-component":"ModalStripeOnboarding","data-sentry-source-file":"modal-stripe-onboarding.tsx",children:[e()&&(0,a.jsx)(b,{}),t()&&(0,a.jsx)(v,{}),n()&&(0,a.jsx)(g,{})]})}},50377:function(e,t,n){"use strict";n.r(t),n.d(t,{ModalReactivationPrompt:function(){return f}});var a=n(37821),s=n(58078),r=n(81071),i=n(64142),o=n(9777),l=n(1309),d=n(42236),c=n(87698),u=n(81387),m=n(9845),p=n(65833),y=n(72249);let f=()=>{let e=(0,r.useRouter)(),t=(0,s.useRef)(null),{ft:n,locale:f}=(0,d.Y)(),{user:x,subscriptionStatus:h,trackAction:b}=(0,m.D)();(0,s.useEffect)(()=>{v()&&((0,u.$)().setItem("reactivationPromptShown","true"),I("shown"))},[]);let v=()=>{let e=(0,u.$)().getItem("reactivationPromptShown"),t=!(null==x?void 0:x.isSubPaid)&&!!(null==h?void 0:h.hadPaidSubsInThePast);return!e&&t&&!(null==x?void 0:x.isSubTrialActive)},[g,j]=(0,s.useState)(v()),I=e=>{b("prospect-reactivation",{platform:i.t4.WEB,action:e})},N="hover:opacity-80 focus:opacity-70 focus:outline-none px-4 py-2 outline outline-1 outline-neutral-400 font-medium rounded-md transition-all duration-200 ease-in-out capitalize flex justify-center items-center";return(0,a.jsxs)(o.u_,{ref:t,open:g,onClose:()=>{},"data-sentry-element":"Modal","data-sentry-component":"ModalReactivationPrompt","data-sentry-source-file":"modal-reactivation-prompt.tsx",children:[(0,a.jsx)(l.L,{onClickXIcon:()=>j(!1),headerMessage:n({id:"reactivation.prompt.title"}),dataTestId:"reactivationPromptModal-xButton","data-sentry-element":"TopContainer","data-sentry-source-file":"modal-reactivation-prompt.tsx"}),(0,a.jsxs)("main",{children:[(0,a.jsx)("section",{children:(0,a.jsx)(y.Q0,{url:"/images/reactivation-modal-image.png",width:826,height:472,"data-sentry-element":"Illustration","data-sentry-source-file":"modal-reactivation-prompt.tsx"})}),(0,a.jsxs)(y.hc,{"data-sentry-element":"ValueProps","data-sentry-source-file":"modal-reactivation-prompt.tsx",children:[(0,a.jsx)("h4",{children:n({id:"doc.head.title.new"}).toLocaleUpperCase(f)}),(0,a.jsxs)("ul",{className:"py-0 p-8 marker:font-bold list-disc font-light font-inter leading-6",children:[(0,a.jsx)("li",{children:n({id:"reactivation.prompt.qrCode"})}),(0,a.jsx)("li",{children:n({id:"reactivation.prompt.multiplePhotos"})}),(0,a.jsx)("li",{children:n({id:"reactivation.prompt.templates"})})]})]})]}),(0,a.jsxs)("footer",{className:"flex justify-end bg-gray-100 px-6 py-4 flex-row rounded-b-lg",children:[(0,a.jsx)("button",{"data-testid":"reactivationPromptModal-rejectButton",type:"button",style:{border:"none"},className:(0,c.cn)(N,"bg-[#ffffff] text-neutral-600"),onClick:()=>j(!1),children:n({id:"subscription.action.noThanks"})}),(0,a.jsx)("button",{"data-testid":"reactivationPromptModal-subscribeButton",type:"button",style:{border:"none"},className:(0,c.cn)(N,"ml-2 bg-neutral-600 text-white"),onClick:()=>{I("clicked"),j(!1),e.push("/subscription?ref=".concat(p.Wu.REACTIVATION_PROMPT))},children:n({id:"reactivation.prompt.subscribeNow"})})]})]})}},21925:function(e,t,n){"use strict";n.d(t,{PageViewTracker:function(){return o}});var a=n(58078),s=n(81071),r=n(9845);let i=()=>{var e;if(null===(e=window)||void 0===e?void 0:e._vwo_exp){let e={};return Object.entries(window._vwo_exp).forEach(t=>{let[n,a]=t,s=null==a?void 0:a.combination_chosen,r=["VISUAL_AB","VISUAL","SPLIT_URL"].includes(a.type);if(s&&r){let t=a.comb_n[s];t&&(e["vwo-test-".concat(n)]=t)}}),e}return{}},o=()=>{let e=(0,s.usePathname)(),{trackAction:t}=(0,r.D)(),n=i(),o=null==e?void 0:e.includes("/history");return(0,a.useEffect)(()=>{if(e&&!o){let a={path:e};n&&(a={...a,...n}),t("web-page-view",a)}},[e]),null}},91058:function(e,t,n){"use strict";n.r(t),n.d(t,{VerisoulTracker:function(){return i}});var a=n(58078),s=n(30393),r=n(13323);let i=e=>{let{user:t}=e,{verisoul:n}=(0,s.V)(["verisoul"]);return(0,a.useEffect)(()=>{n.enabled&&(0,r.M)({userId:t.objectId,email:t.email})},[t.objectId,t.email]),null}},47396:function(e,t,n){"use strict";n.r(t),n.d(t,{AlertBanner:function(){return o}});var a=n(37821);n(58078);var s=n(16243),r=n(96755),i=n(76242);let o=()=>{let{alert:e,hideAlert:t}=(0,i.V)();return e&&e.type===r.N.Banner?(0,a.jsx)(s.j,{...e,onClose:t,"data-sentry-element":"Banner","data-sentry-component":"AlertBanner","data-sentry-source-file":"alert-banner.tsx"}):null}},61603:function(e,t,n){"use strict";n.r(t),n.d(t,{AlertModal:function(){return u}});var a=n(37821),s=n(58078),r=n(66962),i=n(9777),o=n(21576),l=n(42236),d=n(76242),c=n(96755);let u=()=>{let{alert:e,hideAlert:t}=(0,d.V)(),n=(0,s.useRef)(null),{f:u}=(0,l.Y)();if(!e||e.type!==c.N.Modal)return null;let m=(null==e?void 0:e.confirmText)||u({id:"alert.modal.confirm.button"}),p=(null==e?void 0:e.cancelText)||u({id:"alert.modal.cancel.button"});return(0,a.jsx)(i.u_,{ref:n,open:!!e&&e.type===c.N.Modal,onClose:()=>{t();let n=e.onCancel;n&&n()},"data-sentry-element":"Modal","data-sentry-component":"AlertModal","data-sentry-source-file":"alert-modal.tsx",children:(0,a.jsxs)("section",{className:"sm:p-6 px-4 pb-4 pt-5",children:[(0,a.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,a.jsx)("div",{className:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:(0,a.jsx)(r.FC,{className:"h-6 w-6 text-red-600","aria-hidden":"true","data-sentry-element":"IconWarning","data-sentry-source-file":"alert-modal.tsx"})}),(0,a.jsxs)("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[(0,a.jsx)(o.V.Title,{as:"h3",className:"text-base font-semibold leading-6 text-gray-900","data-sentry-element":"unknown","data-sentry-source-file":"alert-modal.tsx",children:null==e?void 0:e.title}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("p",{className:"text-sm text-gray-500",children:null==e?void 0:e.body})})]})]}),(0,a.jsxs)("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[(0,a.jsx)("button",{type:"button",className:"inline-flex w-full justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 sm:ml-3 sm:w-auto",onClick:()=>{t(),e.onConfirm()},children:m}),!(null==e?void 0:e.hideCancelButton)&&(0,a.jsx)("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:()=>{t();let n=e.onCancel;n&&n()},ref:n,children:p})]})]})})}},16243:function(e,t,n){"use strict";n.d(t,{j:function(){return l}});var a=n(37821);n(58078);let s={error:"bg-red-100",success:"bg-green-100",warning:"bg-yellow-100"},r={...s,warning:"bg-amber-50"},i={error:"text-red-800",success:"text-green-800",warning:"text-yellow-800"},o={...i,warning:"text-slate-800"},l=e=>{let{bannerVersion:t="v1",...n}=e,l="v2"===t,d=l?r:s,c=l?o:i,u=d[n.bannerType],m=c[n.bannerType];return(0,a.jsx)("div",{className:"".concat(u," ").concat(l?"rounded-[10px]":""," w-full"),role:"alert","data-sentry-component":"Banner","data-sentry-source-file":"banner.tsx",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto ".concat(l?"py-3 px-5":"px-4 py-2 sm:px-6 lg:px-8"," flex w-full"),children:[(0,a.jsxs)("div",{className:"w-full",children:[n.title&&(0,a.jsx)("strong",{className:"text-sm ".concat(m),children:n.title}),(0,a.jsx)("p",{className:"text-sm ".concat(m),children:n.body})]}),n.isClosable&&(0,a.jsx)("button",{onClick:n.onClose,className:"btn btn-close ".concat(m," px-2"),name:"btn-close",children:(0,a.jsx)("svg",{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,a.jsx)("path",{d:"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z"})})})]})})};l.displayName="Banner"},50338:function(e,t,n){"use strict";n.d(t,{DevPanel:function(){return y}});var a=n(37821),s=n(58078),r=n(71156),i=n(7363),o=n(55156),l=n(87698),d=n(67986),c=n(39022),u=n(98071),m=n(12272),p=n(19860);let y=e=>{var t,n,y;let f=(0,s.use)(e.userPromise),x=(0,s.use)(e.subscriptionsPromise),h=e.installationPromise?(0,s.use)(e.installationPromise):null,b=(0,s.use)(e.flagsPromise),[v,g]=(0,s.useState)(!1),[j,I]=(0,s.useState)(!1),[N,P]=(0,s.useState)(!1),C=(0,s.useCallback)(()=>g(!v),[v]),E=(0,r.useQueryClient)(),_=(0,s.useCallback)(()=>{I(!j),P(!1)},[j]),T=(0,s.useCallback)(()=>{P(!N),I(!1)},[N]),{gmbBusinessesMockEnabled:w,gmbBusinessesErrorEnabled:A,toggleGmbBusinessesMockEnabled:M,toggleGmbBusinessesErrorEnabled:S}=(0,p.s)();return(0,s.useEffect)(()=>{let e=e=>{"d"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),C())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[v,C]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-row",children:[(0,a.jsx)("button",{className:"flex justify-end bg-brand-orange rounded-tr-lg",onClick:C,children:(0,a.jsxs)("div",{className:"px-3",children:[(0,a.jsx)("span",{className:"app-version text-[10px] text-white font-inter bg-orange-400 border border-orange-500 rounded-lg px-1",children:"âŒ˜+D"}),(0,a.jsx)("span",{className:"text-white",children:" | "}),(0,a.jsx)("span",{className:"app-version text-[10px] text-white font-bold",children:(0,d.C)()}),(0,a.jsx)("span",{className:"text-white",children:" | "}),(0,a.jsx)("span",{className:"app-version text-[10px] text-white font-bold",children:m.t.NEXT_PUBLIC_REACT_APP_VERSION}),(0,a.jsx)("span",{className:"text-white",children:" | "}),(0,a.jsx)("span",{className:"app-version text-[10px] text-white font-bold",children:(0,u.T)()||"unknown"})]})}),v&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:(0,l.cn)("flex justify-end bg-brand-orange rounded-t-lg ml-2",j?"opacity-100":"opacity-50"),onClick:_,children:(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"px-3",children:(0,a.jsx)("span",{className:"app-version text-[10px] text-white font-bold",children:"Toggle Flags"})})})}),(0,a.jsx)("button",{className:(0,l.cn)("flex justify-end bg-brand-orange rounded-t-lg ml-2",N?"opacity-100":"opacity-50"),onClick:T,children:(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"px-3",children:(0,a.jsx)("span",{className:"app-version text-[10px] text-white font-bold",children:"GMB Settings"})})})})]})]}),v&&(0,a.jsxs)("div",{className:"dev-footer-body bg-white p-3 text-xs border-t border-gray-200",children:[j&&(0,a.jsx)("div",{className:"max-h-[150px] overflow-auto",children:b&&(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-1",children:Object.entries(b).sort((e,t)=>e[0].localeCompare(t[0])).map(e=>{let[t,n]=e;return(0,a.jsxs)("div",{className:"flex items-center bg-slate-50 p-1 rounded",children:[(0,a.jsxs)("span",{className:"font-bold mr-2",children:[t,":"]}),(0,a.jsx)("span",{className:"".concat(n.enabled?"text-green-600":"text-red-600"),children:n.enabled?"true":"false"})]},t)})})}),N&&(0,a.jsx)("div",{className:"max-h-[150px] overflow-auto",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between bg-slate-50 p-2 rounded",children:[(0,a.jsx)("span",{className:"font-bold",children:"Enable GMB Businesses Mock:"}),(0,a.jsx)("button",{onClick:()=>{M(),E.invalidateQueries([...c.M.businesses])},className:(0,l.cn)("px-3 py-1 rounded text-white",w?"bg-green-600":"bg-red-600"),children:w?"Enabled":"Disabled"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between bg-slate-50 p-2 rounded",children:[(0,a.jsx)("span",{className:"font-bold",children:"Enable GMB Businesses Error:"}),(0,a.jsx)("button",{onClick:()=>{S(),E.invalidateQueries([...c.M.businesses])},className:(0,l.cn)("px-3 py-1 rounded text-white",A?"bg-green-600":"bg-red-600"),children:A?"Enabled":"Disabled"})]})]})}),!j&&!N&&(0,a.jsxs)("div",{className:"flex flex-row justify-between flex-wrap",children:[(0,a.jsx)("table",{className:"mr-5",children:(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"font-bold",children:"User ID: "}),(0,a.jsx)("td",{className:"pl-5 text-slate-700",children:f.objectId})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"font-bold",children:"Account ID: "}),(0,a.jsx)("td",{className:"pl-5 text-slate-700",children:null===(t=f.account)||void 0===t?void 0:t.objectId})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"font-bold",children:"Session Token: "}),(0,a.jsxs)("td",{className:"pl-5 text-slate-700",children:[f.sessionToken," "]})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"font-bold",children:"Country Code: "}),(0,a.jsxs)("td",{className:"pl-5 text-slate-700",children:[f.countryCode," "]})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"font-bold",children:"Email: "}),(0,a.jsxs)("td",{className:"pl-5 text-slate-700",children:[null!==(n=f.email)&&void 0!==n?n:"Guest"," "]})]})]})}),(0,a.jsx)("table",{className:"mr-5",children:(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"font-bold",children:"Subscription Order SKU: "}),(0,a.jsx)("td",{className:"pl-5 text-slate-700",children:x[0].orderSku})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"font-bold",children:"Subscription Tier: "}),(0,a.jsx)("td",{className:"pl-5 text-slate-700",children:null!==(y=x[0].subscriptionTier)&&void 0!==y?y:"None"})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"font-bold",children:"Plan Interval: "}),(0,a.jsx)("td",{className:"pl-5 text-slate-700",children:x[0].planInterval})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"font-bold",children:"Active Until: "}),(0,a.jsx)("td",{className:"pl-5 text-slate-700",children:x[0].activeUntil?(0,i.Z)((0,o.Z)(x[0].activeUntil/1e3),"MMMM dd, yyyy h:mm:ss a"):""})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"font-bold",children:"Number of Documents: "}),(0,a.jsx)("td",{className:"pl-5 text-slate-700",children:x[0].allDocsCount})]})]})}),(0,a.jsx)("table",{className:"mr-5",children:(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"font-bold",children:"Installation ID: "}),(0,a.jsx)("td",{className:"pl-5 text-slate-700",children:null==h?void 0:h.installationId})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"font-bold",children:"Installation Created At: "}),(0,a.jsx)("td",{className:"pl-5 text-slate-700",children:(null==h?void 0:h.createdAt)?(0,i.Z)(new Date(null==h?void 0:h.createdAt),"MMMM dd, yyyy h:mm:ss a"):""})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"font-bold",children:"Device: "}),(0,a.jsx)("td",{className:"pl-5 text-slate-700",children:null==h?void 0:h.device})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"font-bold",children:"Installation Locale: "}),(0,a.jsx)("td",{className:"pl-5 text-slate-700",children:null==h?void 0:h.localeIdentifier})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"font-bold",children:"Installation Object ID: "}),(0,a.jsx)("td",{className:"pl-5 text-slate-700",children:null==h?void 0:h.objectId})]})]})})]})]})]})}},1399:function(e,t,n){"use strict";n.d(t,{ErrorBoundary:function(){return s}});var a=n(58078);class s extends a.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({errorInfo:t})}render(){return this.state.hasError?null:this.props.children}constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}}},98752:function(e,t,n){"use strict";n.r(t),n.d(t,{ButtonCloseModal:function(){return o}});var a=n(37821);n(58078);var s=n(81071),r=n(73378),i=n(9845);let o=e=>{let t=(0,s.useRouter)(),n=(0,s.usePathname)(),{trackAction:o}=(0,i.D)();return(0,a.jsx)(r.z,{onClick:()=>{o("web-modal-view",{action:"closed",path:n||null}),t.back()},...e,"data-sentry-element":"Button","data-sentry-component":"ButtonCloseModal","data-sentry-source-file":"button-close-modal.tsx",children:e.children})}},92112:function(e,t,n){"use strict";n.r(t),n.d(t,{ClientModal:function(){return l}});var a=n(37821),s=n(58078),r=n(81071),i=n(9845),o=n(59845);let l=e=>{let t=(0,r.useRouter)(),n=(0,r.usePathname)(),{trackAction:l}=(0,i.D)();return(0,s.useEffect)(()=>{l("web-modal-view",{action:"viewed",path:n||null})},[]),(0,a.jsx)(o.Modal,{open:!0,onClose:t.back,className:e.className,"data-sentry-element":"Modal","data-sentry-component":"ClientModal","data-sentry-source-file":"client-modal.tsx",children:e.children})}},59845:function(e,t,n){"use strict";n.r(t),n.d(t,{Modal:function(){return l}});var a=n(37821),s=n(58078),r=n(69983),i=n(21576),o=n(87698);let l=(0,s.forwardRef)((e,t)=>{let{onClose:n,children:l,open:d,className:c}=e,u=(0,o.cn)("relative transform rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 w-full sm:max-w-lg",c);return(0,a.jsx)(r.u.Root,{show:d,as:s.Fragment,children:(0,a.jsxs)(i.V,{as:"div",className:"relative z-10",initialFocus:t,onClose:n,style:{position:"relative",zIndex:4},id:"tailwind",children:[(0,a.jsx)(r.u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25 transition-opacity"})}),(0,a.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center sm:items-center sm:p-0",children:(0,a.jsx)(r.u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,a.jsx)(i.V.Panel,{className:u,children:l})})})})]})})});l.displayName="Modal"},8506:function(e,t,n){"use strict";n.r(t),n.d(t,{Toaster:function(){return r}});var a=n(37821);n(58078);var s=n(13590);let r=e=>{let{...t}=e;return(0,a.jsx)(s.x7,{className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t,"data-sentry-element":"Sonner","data-sentry-component":"Toaster","data-sentry-source-file":"sonner.tsx"})}},33461:function(e,t,n){"use strict";n.d(t,{R:function(){return l}});var a=n(58078),s=n(14325),r=n(83257),i=n(9845),o=n(12272);let l=()=>{let{boot:e,show:t,hide:n}=(0,s.o)(),{account:l,user:d}=(0,i.D)();return(0,a.useEffect)(()=>{let t=null==d?void 0:d.objectId,n=null==l?void 0:l.objectId,a=n?"".concat(o.t.NEXT_PUBLIC_REACT_APP_ADMIN_URL,"/account/").concat(n):"unknown";e({actionColor:"rgba(255, 87, 33, 1)",verticalPadding:20,alignment:"right",horizontalPadding:20,company:{companyId:n||(0,r.Z)(),customAttributes:{admin:a}},customAttributes:{"app-identifier":o.t.NEXT_PUBLIC_REACT_APP_HOST,"app-name":o.t.NEXT_PUBLIC_REACT_APP_NAME,app_id:o.t.NEXT_PUBLIC_REACT_APP_INTERCOM_APP_ID,user_id:t||"unknown",is_guest:!1,admin:o.t.NEXT_PUBLIC_REACT_APP_ADMIN_URL,last_seen:"".concat(Math.round(Date.now()/1e3))}})},[]),{show:t,hide:n}}},91824:function(e,t,n){"use strict";n.d(t,{SessionReplayProvider:function(){return c}});var a=n(37821),s=n(58078),r=n(62708),i=n(51046),o=n(9411),l=n(1388);n(17892);let d=n(12272).t.NEXT_PUBLIC_AMPLITUDE_API_KEY,c=e=>{let[t,n]=(0,s.useState)(),[r,o]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{(async()=>{if(!r){let t=await (0,l.H)(e.sessionToken);u(new Date(t.createdAt).getTime(),t.installationId),o(!0),n(e.sessionToken)}})()},[]),(0,s.useEffect)(()=>{(async()=>{if(r&&e.sessionToken!==t){let t=await (0,l.H)(e.sessionToken);i.xr(new Date(t.createdAt).getTime()),n(e.sessionToken)}})()},[r,e.sessionToken,t]),(0,a.jsx)(a.Fragment,{children:e.children})},u=(e,t)=>{try{i.S1(d,{deviceId:t,sessionId:e,sampleRate:r.yv?.1:1})}catch(e){o.D.error("Error initializing Amplitude",e)}}},24536:function(e,t,n){"use strict";n.d(t,{BrazeProvider:function(){return o}});var a=n(37821),s=n(58078),r=n(9411),i=n(9845);let o=e=>{let{user:t}=(0,i.D)();return(0,s.useEffect)(()=>{(null==t?void 0:t.objectId)&&Promise.all([n.e(5609),n.e(8843)]).then(n.bind(n,8843)).then(e=>{e.init(),e.changeUser(t.objectId),e.automaticallyShowInAppMessages(),e.openSession()}),"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js").catch(e=>{console.log("SW registration failed:",e),r.D.error("Error registering service worker",e)})},[null==t?void 0:t.objectId]),(0,a.jsx)(a.Fragment,{children:e.children})}},54339:function(e,t,n){"use strict";n.d(t,{FlagsmithProvider:function(){return o}});var a=n(37821);n(58078);var s=n(6323),r=n.n(s),i=n(50092);let o=e=>(0,a.jsx)(i.FlagsmithProvider,{flagsmith:r(),serverState:e.flagsmithState,"data-sentry-element":"Provider","data-sentry-component":"FlagsmithProvider","data-sentry-source-file":"flagsmith-provider.tsx",children:e.children})},64458:function(e,t,n){"use strict";n.d(t,{default:function(){return f}});var a=n(37821),s=n(58078),r=n(1845),i=n(35123),o=n(27466),l=n(9411),d=n(81387);let c=["localization_revamp"],u=e=>{let{trackAction:t,userId:n,orderSku:a,flagName:s,decision:r}=e;if(c.includes(s)&&r.enabled)try{let e=(0,d.$)(),i=e.getItem("trackedFlags"),o=i?JSON.parse(i):{};if(o[s])return;t("experiment-entered",{"user-id":n,"flag-key":s,platform:"web","variation-key":r.variationKey||"","rule-key":r.ruleKey||"","plan-name":a}),o[s]=!0,e.setItem("trackedFlags",JSON.stringify(o))}catch(e){l.D.error("Failed to handle experiment tracking:",e)}},m=e=>{if(e.isReady())try{let t=e.decideAll(),a=(0,d.$)(),s="braze_experiments_hash",r=Object.entries(t).reduce((e,t)=>{let[n,a]=t;return c.includes(a.flagKey)&&a.enabled&&(e[n]={enabled:a.enabled,variation_key:a.variationKey||"",rule_key:a.ruleKey||"",flag_key:n,variables:Object.keys(a.variables||{}).length>0?a.variables:null}),e},{});if(0===Object.keys(r).length)return;let i=JSON.stringify(r);if(a.getItem(s)===i)return;Promise.all([n.e(5609),n.e(8843)]).then(n.bind(n,8843)).then(e=>{var t;let{init:n,getUser:l}=e;n(),null===(t=l())||void 0===t||t.setCustomUserAttribute(o.K.EXPERIMENTS,r),a.setItem(s,i)}).catch(e=>{l.D.error("Failed to update Braze experiment attributes:",e)})}catch(e){l.D.error("Failed to get Braze experiments:",e)}};var p=n(9845);let y=()=>{let e=(0,i.X)(),{trackAction:t,subscriptionStatus:n,user:a}=(0,p.D)();return(0,s.useEffect)(()=>{if(!e)return;let s=e.notificationCenter.addNotificationListener(r.kE.NOTIFICATION_TYPES.DECISION,e=>{let s=e.decisionInfo.flagKey;0!==Object.keys(e.attributes).length&&u({trackAction:t,userId:a.objectId,orderSku:n.orderSku||"",flagName:s,decision:e.decisionInfo})});return()=>{e.notificationCenter.removeNotificationListener(s)}},[e,t,a.objectId,n.orderSku]),null};function f(e){let{children:t,optimizelyState:n}=e,o=(0,i.X)();return(0,s.useEffect)(()=>{o&&m(o)},[o]),(0,a.jsxs)(r.dH,{optimizely:o,user:n.user,"data-sentry-element":"Provider","data-sentry-component":"OptimizelyProvider","data-sentry-source-file":"optimizely-provider.tsx",children:[(0,a.jsx)(y,{"data-sentry-element":"OptimizelyListener","data-sentry-source-file":"optimizely-provider.tsx"}),t]})}},92075:function(e,t,n){"use strict";n.d(t,{ImpactProvider:function(){return x}});var a=n(37821),s=n(58078),r=n(64144),i=n(80331),o=n(9411),l=n(36543),d=n(45172),c=n(99547);n(69021),n(17892);var u=n(56302);let m=e=>{let t;return new URLSearchParams(window.location.search).forEach((n,a)=>{"irclickid"===a&&e&&(t="impact"),"utm_source"!==a||t||(t=n)}),t},p=async(e,t)=>{let n=l.F+"/account-source";await (0,r.KF)(n,{method:"POST",headers:{...t,"Content-Type":"application/json"},body:JSON.stringify({source:e})})},y=async(e,t)=>{try{if(t)return;let n=m((0,c.T)(e));if(!n)return;let a=await (0,i.A)({user:e});p(n,a),"impact"===n&&(0,d.cI)({userId:e.objectId,email:e.email}),(0,u.L9)("account-source",{source:n})}catch(e){o.D.error("Error saving account source",e)}};var f=n(9845);let x=e=>{let{user:t}=(0,f.D)();return(0,s.useEffect)(()=>{t&&((0,d.S5)({userId:t.objectId}),y(t,e.alreadyHasSource))},[t,null==t?void 0:t.objectId,e.alreadyHasSource]),(0,a.jsx)(a.Fragment,{children:e.children})}},95899:function(e,t,n){"use strict";n.d(t,{IntercomProvider:function(){return i}});var a=n(37821);n(58078);var s=n(14325),r=n(12272);let i=e=>(0,a.jsx)(s.H,{appId:r.t.NEXT_PUBLIC_REACT_APP_INTERCOM_APP_ID,initializeDelay:3e3,"data-sentry-element":"ReactIntercomProvider","data-sentry-component":"IntercomProvider","data-sentry-source-file":"intercom-provider.tsx",children:e.children})},81387:function(e,t,n){"use strict";n.d(t,{$:function(){return a}});let a=()=>({setItem:(e,t)=>localStorage.setItem(e,t),getItem:e=>localStorage.getItem(e),removeItem:e=>{localStorage.removeItem(e)},clear:()=>{localStorage.clear()},key:e=>localStorage.key(e),length:localStorage.length})}},function(e){e.O(0,[5751,4742,4287,4497,8637,8249,2991,2758,9751,7363,34,9167,7799,5431,9541,2950,5890,3123,6341,7246,1975,7115,7264,1744],function(){return e(e.s=96884)}),_N_E=e.O()}]);