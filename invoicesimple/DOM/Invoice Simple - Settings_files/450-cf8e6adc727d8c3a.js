!function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new t.Error).stack;n&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[n]="48909195-6f7f-41a9-9c6b-03d18ff1f49b",t._sentryDebugIdIdentifier="sentry-dbid-48909195-6f7f-41a9-9c6b-03d18ff1f49b")}catch(t){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[450],{70517:function(t,n,e){e.r(n),e.d(n,{Address:function(){return ty},BaseItem:function(){return tC},Contact:function(){return t_},DocumentItem:function(){return tD},ItemDiscountType:function(){return tk},NoAddress:function(){return th},OptionalAddress:function(){return tg},OptionalEmail:function(){return tE},ValidEmail:function(){return tT},ValidInvoiceNumber:function(){return tj},createDefaultCompany:function(){return tA},createDefaultContact:function(){return tb},createDefaultDocumentItem:function(){return tR},createDefaultEstimate:function(){return tN},createDefaultEstimateSettings:function(){return tx},createDefaultInvoice:function(){return tI},createDefaultInvoiceSettings:function(){return tO},isEstimate:function(){return tP},isInvoice:function(){return tL},isReceipt:function(){return tU}});var r,i,o,a,u,c,s,l,f,d,p,v,y,h=e(83257),g=e(50833);e(37237),e(26828);var m=e(43603);e(44192),e(54926),g.Z.DP=5,g.Z.RM=1,(0,g.Z)(0),(0,g.Z)(100),(T=E||(E={})).IOS="ios",T.ANDROID="android",T.WEB="web";var T,E,_,w,b,A,R,S={DOCTYPE_INVOICE:0,DOCTYPE_ESTIMATE:1,DOCTYPE_STATEMENT:2};(I=_||(_={})).PAYMENTS_TIER="paymentsTier",I.STARTER="starter",I.ESSENTIALS="essentials",I.PRO="pro",I.PLUS="plus",I.PREMIUM="premium",I.ESSENTIALS_LEGACY="essentialsLegacy",I.PLUS_LEGACY="plusLegacy",I.PREMIUM_LEGACY="premiumLegacy",(O=w||(w={})).SMS_PROMOTIONAL="sms_promotional",O.EMAIL_TRANSACTIONAL="email_transactional",O.EMAIL_PROMOTIONAL="email_promotional",O.PASSING_FEES_SURCHARGE="passing_fees_surcharge",O.STRIPE_ONBOARDING="stripe_onboarding",O.PAYPAL_ONBOARDING="paypal_onboarding",O.REFERRAL_PROGRAM="referral_program",O.FREE_SAAS="free_saas",(x=b||(b={})).CONSENT_GIVEN="consent_given",x.CONSENT_REVOKED="consent_revoked",x.CONSENT_NOT_GIVEN="consent_not_given",x.CONSENT_IMPLICIT="consent_implicit",(N=A||(A={}))[N.MARKUP=0]="MARKUP",N[N.SURCHARGE=1]="SURCHARGE",(P=R||(R={})).DEPOSIT="Deposit",P.PAYMENT="Payment";var I,O,x,N,P,L,U=function(t){return"Left"===t._tag},C=(L=function(t,n){return(L=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}L(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),k=function(){return(k=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)},D=function(t){return{_tag:"Left",left:t}},M=function(t,n,e){return D([{value:t,context:n,message:e}])},j=function(t){return{_tag:"Right",right:t}},V=function(){function t(t,n,e,r){this.name=t,this.is=n,this.validate=e,this.encode=r,this.decode=this.decode.bind(this)}return t.prototype.pipe=function(n,e){var r=this;return void 0===e&&(e="pipe(".concat(this.name,", ").concat(n.name,")")),new t(e,n.is,function(t,e){var i=r.validate(t,e);return U(i)?i:n.validate(i.right,e)},this.encode===Y&&n.encode===Y?Y:function(t){return r.encode(n.encode(t))})},t.prototype.asDecoder=function(){return this},t.prototype.asEncoder=function(){return this},t.prototype.decode=function(t){return this.validate(t,[{key:"",type:this,actual:t}])},t}(),Y=function(t){return t};function Z(t,n,e,r){for(var i=t.length,o=Array(i+1),a=0;a<i;a++)o[a]=t[a];return o[i]={key:n,type:e,actual:r},o}function G(t,n){for(var e=n.length,r=0;r<e;r++)t.push(n[r])}var H=Object.prototype.hasOwnProperty;function B(t){for(var n=0;n<t.length;n++)if(t[n].encode!==Y)return!1;return!0}function F(t){return"{ ".concat(Object.keys(t).map(function(n){return"".concat(n,": ").concat(t[n].name)}).join(", ")," }")}function X(t,n){for(var e=!0,r=!0,i=!te.is(t),o=0;o<n.length;o++)(c=n[o])!==t&&(e=!1),te.is(c)&&(r=!1);if(e)return t;if(r)return n[n.length-1];for(var a={},u=0;u<n.length;u++){var c=n[u];for(var s in c)H.call(a,s)&&!i&&c[s]===t[s]||(a[s]=c[s])}return a}var W={};function $(t,n){for(var e=[],r=0;r<t.length;r++){var i=t[r];-1!==n.indexOf(i)&&e.push(i)}return e}var K=[];function q(t){if(-1!==K.indexOf(t))return W;if("InterfaceType"===t._tag||"StrictType"===t._tag){var n=W;for(var e in t.props){var r=t.props[e];"LiteralType"===r._tag&&(n===W&&(n={}),n[e]=[r.value])}return n}if("ExactType"===t._tag||"RefinementType"===t._tag||"ReadonlyType"===t._tag)return q(t.type);if("IntersectionType"===t._tag)return t.types.reduce(function(t,n){return function(t,n){if(t===W)return n;if(n===W)return t;var e=Object.assign({},t);for(var r in n)if(H.call(t,r)){var i=$(t[r],n[r]);if(!(i.length>0)){e=W;break}e[r]=i}else e[r]=n[r];return e}(t,q(n))},W);if("UnionType"===t._tag)return t.types.slice(1).reduce(function(t,n){return function(t,n){if(t===W||n===W)return W;var e=W;for(var r in t)H.call(n,r)&&0===$(t[r],n[r]).length&&(e===W&&(e={}),e[r]=t[r].concat(n[r]));return e}(t,q(n))},q(t.types[0]));if("RecursiveType"===t._tag){K.push(t);var i=q(t.type);return K.pop(),i}return W}new(function(t){function n(){var n=t.call(this,"null",function(t){return null===t},function(t,e){return n.is(t)?j(t):M(t,e)},Y)||this;return n._tag="NullType",n}return C(n,t),n}(V));var z=new(function(t){function n(){var n=t.call(this,"undefined",function(t){return void 0===t},function(t,e){return n.is(t)?j(t):M(t,e)},Y)||this;return n._tag="UndefinedType",n}return C(n,t),n}(V));new(function(t){function n(){var n=t.call(this,"void",z.is,z.validate,Y)||this;return n._tag="VoidType",n}return C(n,t),n}(V)),new(function(t){function n(){var n=t.call(this,"unknown",function(t){return!0},j,Y)||this;return n._tag="UnknownType",n}return C(n,t),n}(V));var J=new(function(t){function n(){var n=t.call(this,"string",function(t){return"string"==typeof t},function(t,e){return n.is(t)?j(t):M(t,e)},Y)||this;return n._tag="StringType",n}return C(n,t),n}(V)),Q=new(function(t){function n(){var n=t.call(this,"number",function(t){return"number"==typeof t},function(t,e){return n.is(t)?j(t):M(t,e)},Y)||this;return n._tag="NumberType",n}return C(n,t),n}(V));new(function(t){function n(){var n=t.call(this,"bigint",function(t){return"bigint"==typeof t},function(t,e){return n.is(t)?j(t):M(t,e)},Y)||this;return n._tag="BigIntType",n}return C(n,t),n}(V));var tt=new(function(t){function n(){var n=t.call(this,"boolean",function(t){return"boolean"==typeof t},function(t,e){return n.is(t)?j(t):M(t,e)},Y)||this;return n._tag="BooleanType",n}return C(n,t),n}(V));new(function(t){function n(){var n=t.call(this,"UnknownArray",Array.isArray,function(t,e){return n.is(t)?j(t):M(t,e)},Y)||this;return n._tag="AnyArrayType",n}return C(n,t),n}(V));var tn,te=new(function(t){function n(){var n=t.call(this,"UnknownRecord",function(t){return null!==t&&"object"==typeof t&&!Array.isArray(t)},function(t,e){return n.is(t)?j(t):M(t,e)},Y)||this;return n._tag="AnyDictionaryType",n}return C(n,t),n}(V)),tr=function(t){function n(n,e,r,i,o){var a=t.call(this,n,e,r,i)||this;return a.value=o,a._tag="LiteralType",a}return C(n,t),n}(V);function ti(t,n){void 0===n&&(n=JSON.stringify(t));var e=function(n){return n===t};return new tr(n,e,function(n,r){return e(n)?j(t):M(n,r)},Y,t)}C(function(t,n,e,r,i){var o=tn.call(this,t,n,e,r)||this;return o.keys=i,o._tag="KeyofType",o},tn=V);var to=function(t){function n(n,e,r,i,o,a){var u=t.call(this,n,e,r,i)||this;return u.type=o,u.predicate=a,u._tag="RefinementType",u}return C(n,t),n}(V);tp(Q,function(t){return Number.isInteger(t)},"Int"),Object.defineProperty(function(t){function n(n,e,r,i,o){var a=t.call(this,n,e,r,i)||this;return a.runDefinition=o,a._tag="RecursiveType",a}return C(n,t),n}(V).prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0}),C(function(t,n,e,i,o){var a=r.call(this,t,n,e,i)||this;return a.type=o,a._tag="ArrayType",a},r=V);var ta=function(t){function n(n,e,r,i,o){var a=t.call(this,n,e,r,i)||this;return a.props=o,a._tag="InterfaceType",a}return C(n,t),n}(V);function tu(t,n){void 0===n&&(n=F(t));var e=Object.keys(t),r=e.map(function(n){return t[n]}),i=e.length;return new ta(n,function(t){if(te.is(t)){for(var n=0;n<i;n++){var o=e[n],a=t[o];if(void 0===a&&!H.call(t,o)||!r[n].is(a))return!1}return!0}return!1},function(t,n){var o=te.validate(t,n);if(U(o))return o;for(var a=o.right,u=a,c=[],s=0;s<i;s++){var l=e[s],f=u[l],d=r[s],p=d.validate(f,Z(n,l,d,f));if(U(p))G(c,p.left);else{var v=p.right;v===f&&(void 0!==v||H.call(u,l))||(u===a&&(u=k({},a)),u[l]=v)}}return c.length>0?D(c):j(u)},B(r)?Y:function(t){for(var n=k({},t),o=0;o<i;o++){var a=e[o],u=r[o].encode;u!==Y&&(n[a]=u(t[a]))}return n},t)}var tc=function(t){function n(n,e,r,i,o){var a=t.call(this,n,e,r,i)||this;return a.props=o,a._tag="PartialType",a}return C(n,t),n}(V);C(function(t,n,e,r,o,a){var u=i.call(this,t,n,e,r)||this;return u.domain=o,u.codomain=a,u._tag="DictionaryType",u},i=V);var ts=function(t){function n(n,e,r,i,o){var a=t.call(this,n,e,r,i)||this;return a.types=o,a._tag="UnionType",a}return C(n,t),n}(V);function tl(t,n){void 0===n&&(n="("+t.map(function(t){return t.name}).join(" | ")+")");var e=function(t){for(var n=q(t[0]),e=Object.keys(n),r=t.length,i=0;i<e.length;i++){var o=function(e){for(var i=n[e].slice(),o=[n[e]],a=1;a<r;a++){var u=q(t[a])[e];if(void 0===u||u.some(function(t){return -1!==i.indexOf(t)}))return"continue-keys";i.push.apply(i,u),o.push(u)}return{value:[e,o]}}(e[i]);if("object"==typeof o)return o.value}}(t);if(void 0!==e&&t.length>0){var r=e[0],i=e[1],o=i.length,a=function(t){for(var n=0;n<o;n++)if(-1!==i[n].indexOf(t))return n};return new tv(n,function(n){if(te.is(n)){var e=a(n[r]);return void 0!==e&&t[e].is(n)}return!1},function(n,e){var i=te.validate(n,e);if(U(i))return i;var o=i.right,u=a(o[r]);if(void 0===u)return M(n,e);var c=t[u];return c.validate(o,Z(e,String(u),c,o))},B(t)?Y:function(e){var i=a(e[r]);if(void 0===i)throw Error("no codec found to encode value in union codec ".concat(n));return t[i].encode(e)},t,r)}return new ts(n,function(n){return t.some(function(t){return t.is(n)})},function(n,e){for(var r=[],i=0;i<t.length;i++){var o=t[i],a=o.validate(n,Z(e,String(i),o,n));if(!U(a))return j(a.right);G(r,a.left)}return D(r)},B(t)?Y:function(e){for(var r=0;r<t.length;r++){var i=t[r];if(i.is(e))return i.encode(e)}throw Error("no codec found to encode value in union type ".concat(n))},t)}var tf=function(t){function n(n,e,r,i,o){var a=t.call(this,n,e,r,i)||this;return a.types=o,a._tag="IntersectionType",a}return C(n,t),n}(V);function td(t,n){void 0===n&&(n="(".concat(t.map(function(t){return t.name}).join(" & "),")"));var e=t.length;return new tf(n,function(n){return t.every(function(t){return t.is(n)})},0===t.length?j:function(n,r){for(var i=[],o=[],a=0;a<e;a++){var u=t[a],c=u.validate(n,Z(r,String(a),u,n));U(c)?G(o,c.left):i.push(c.right)}return o.length>0?D(o):j(X(n,i))},0===t.length?Y:function(n){return X(n,t.map(function(t){return t.encode(n)}))},t)}function tp(t,n,e){return void 0===e&&(e="(".concat(t.name," | ").concat(n.displayName||n.name||"<function".concat(n.length,">"),")")),new to(e,function(e){return t.is(e)&&n(e)},function(e,r){var i=t.validate(e,r);if(U(i))return i;var o=i.right;return n(o)?j(o):M(o,r)},t.encode,t,n)}C(function(t,n,e,r,i){var a=o.call(this,t,n,e,r)||this;return a.types=i,a._tag="TupleType",a},o=V),C(function(t,n,e,r,i){var o=a.call(this,t,n,e,r)||this;return o.type=i,o._tag="ReadonlyType",o},a=V),C(function(t,n,e,r,i){var o=u.call(this,t,n,e,r)||this;return o.type=i,o._tag="ReadonlyArrayType",o},u=V),C(function(t,n,e,r,i){var o=c.call(this,t,n,e,r)||this;return o.type=i,o._tag="ExactType",o},c=V),new(function(t){function n(){var n=t.call(this,"Function",function(t){return"function"==typeof t},function(t,e){return n.is(t)?j(t):M(t,e)},Y)||this;return n._tag="FunctionType",n}return C(n,t),n}(V)),new(function(t){function n(){var n=t.call(this,"never",function(t){return!1},function(t,n){return M(t,n)},function(){throw Error("cannot encode never")})||this;return n._tag="NeverType",n}return C(n,t),n}(V)),new(function(t){function n(){var n=t.call(this,"any",function(t){return!0},j,Y)||this;return n._tag="AnyType",n}return C(n,t),n}(V)),tp(Q,Number.isInteger,"Integer");var tv=function(t){function n(n,e,r,i,o,a){var u=t.call(this,n,e,r,i,o)||this;return u.tag=a,u}return C(n,t),n}(ts);new(function(t){function n(){var n=t.call(this,"object",function(t){return null!==t&&"object"==typeof t},function(t,e){return n.is(t)?j(t):M(t,e)},Y)||this;return n._tag="ObjectType",n}return C(n,t),n}(V)),C(function(t,n,e,r,i){var o=s.call(this,t,n,e,r)||this;return o.props=i,o._tag="StrictType",o},s=V);var ty=tu({address1:J,address2:tl([J,z]),address3:tl([J,z])}),th=tu({address1:z}),tg=tl([ty,th]),tm=/.+@.+\..+/,tT=tp(J,function(t){return"string"==typeof t&&tm.test(t.trim())},"ValidEmail"),tE=tl([tT,z]),t_=td([tu({name:tl([J,z]),email:tE,secondaryEmail:tE,phone:tl([J,z]),fax:tl([J,z]),mobile:tl([J,z])}),tg]);function tw(){return(tw=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}function tb(){return{name:void 0,email:void 0,secondaryEmail:void 0,address1:void 0,phone:void 0,fax:void 0,mobile:void 0}}function tA(){return tw({},{name:void 0,email:void 0,secondaryEmail:void 0,address1:void 0,phone:void 0,fax:void 0,mobile:void 0},{remoteId:(0,h.Z)(),businessNumber:void 0,company:void 0,website:void 0,ownerName:void 0})}function tR(){return{code:"",description:"",rate:0,taxable:!0,remoteId:(0,h.Z)(),quantity:1,taxRate:0,discountRate:0,discountType:0}}function tS(){var t,n=new Date,e=tA(),r=tR();return{remoteId:(0,h.Z)(),objectId:void 0,poNumber:void 0,title:void 0,signature:void 0,notes:void 0,company:e,client:void 0,items:[r],createDate:new Date,photos:[],sentStatus:void 0,invoiceDate:(void 0===t&&(t="yyyy-MM-dd"),(0,m.Z)(n,t)),deleted:!1,updated:n.getTime(),platform:void 0}}function tI(t,n){return tw({},tS(),{docType:S.DOCTYPE_INVOICE,invoiceNo:t,setting:n,payments:[]})}function tO(t){var n=t.taxLabelPlaceHolder;return{remoteId:(0,h.Z)(),termsDay:0,taxType:0,taxLabel:n,taxRate:0,taxInclusive:!1,discountAmount:0,discountRate:0,discountType:0,color:null,template:null,fullyPaid:void 0,optionQtyRate:!1,paidDate:void 0,dueDate:void 0,paymentSuppressed:void 0,stripePaymentSuppressed:void 0,estimateId:void 0,depositType:void 0,depositRate:void 0,depositAmount:void 0,feesType:void 0,acornFinancing:void 0}}function tx(t){var n=t.taxLabelPlaceHolder;return{remoteId:(0,h.Z)(),taxType:0,taxLabel:n,taxRate:0,taxInclusive:!1,discountAmount:0,discountRate:0,discountType:0,color:null,template:null,fullyPaid:!1,optionQtyRate:!1,estimateSignatureRequired:null,estimateSignedText:null,estimateSignedAt:null,acornFinancing:null}}function tN(t,n){return tw({},tS(),{docType:S.DOCTYPE_ESTIMATE,invoiceNo:t,setting:n})}function tP(t){return t&&t.docType===S.DOCTYPE_ESTIMATE}function tL(t){return t&&t.docType===S.DOCTYPE_INVOICE}function tU(t){return t&&t.docType===S.DOCTYPE_STATEMENT}var tC=td([tu({code:J,rate:Q,taxable:tt,description:J}),(l={unit:J},void 0===f&&(d=F(l),f="Partial<".concat(d,">")),v=(p=Object.keys(l)).map(function(t){return l[t]}),y=p.length,new tc(f,function(t){if(te.is(t)){for(var n=0;n<y;n++){var e=p[n],r=t[e];if(void 0!==r&&!l[e].is(r))return!1}return!0}return!1},function(t,n){var e=te.validate(t,n);if(U(e))return e;for(var r=e.right,i=r,o=[],a=0;a<y;a++){var u=p[a],c=i[u],s=l[u],f=s.validate(c,Z(n,u,s,c));if(U(f))void 0!==c&&G(o,f.left);else{var d=f.right;d!==c&&(i===r&&(i=k({},r)),i[u]=d)}}return o.length>0?D(o):j(i)},B(v)?Y:function(t){for(var n=k({},t),e=0;e<y;e++){var r=p[e],i=t[r];void 0!==i&&(n[r]=v[e].encode(i))}return n},l))]),tk=tl([ti(0),ti(1)]),tD=td([tC,tu({remoteId:J,quantity:Q,taxRate:tl([Q,z]),discountRate:tl([Q,z]),discountType:tl([tk,z])})]),tM=/^[A-Za-z]*\d+$/,tj=tp(J,function(t){return"string"==typeof t&&tM.test(t.trim())},"ValidInvoiceNumber")},3349:function(t,n,e){Object.defineProperty(n,"$",{enumerable:!0,get:function(){return i}});let r=e(8956);function i(t){let{createServerReference:n}=e(73849);return n(t,r.callServer)}},83257:function(t,n,e){var r=e(2239),i=e(28957);n.Z=function(t,n,e){var o=(t=t||{}).random||(t.rng||r.Z)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,n){e=e||0;for(var a=0;a<16;++a)n[e+a]=o[a];return n}return(0,i.Z)(o)}},23398:function(t,n,e){e.d(n,{zB:function(){return tt},w7:function(){return tn}}),e(37821);var r,i,o,a,u,c=e(58078),s=e.t(c,2);class l extends Error{constructor(t,n){t instanceof Error?super(void 0,{cause:{err:t,...t.cause,...n}}):"string"==typeof t?(n instanceof Error&&(n={err:n,...n.cause}),super(t,n)):super(void 0,t),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);let e=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${e}`}}class f extends l{}f.kind="signIn";class d extends l{}d.type="AdapterError";class p extends l{}p.type="AccessDenied";class v extends l{}v.type="CallbackRouteError";class y extends l{}y.type="ErrorPageLoop";class h extends l{}h.type="EventError";class g extends l{}g.type="InvalidCallbackUrl";class m extends f{constructor(){super(...arguments),this.code="credentials"}}m.type="CredentialsSignin";class T extends l{}T.type="InvalidEndpoints";class E extends l{}E.type="InvalidCheck";class _ extends l{}_.type="JWTSessionError";class w extends l{}w.type="MissingAdapter";class b extends l{}b.type="MissingAdapterMethods";class A extends l{}A.type="MissingAuthorize";class R extends l{}R.type="MissingSecret";class S extends f{}S.type="OAuthAccountNotLinked";class I extends f{}I.type="OAuthCallbackError";class O extends l{}O.type="OAuthProfileParseError";class x extends l{}x.type="SessionTokenError";class N extends f{}N.type="OAuthSignInError";class P extends f{}P.type="EmailSignInError";class L extends l{}L.type="SignOutError";class U extends l{}U.type="UnknownAction";class C extends l{}C.type="UnsupportedStrategy";class k extends l{}k.type="InvalidProvider";class D extends l{}D.type="UntrustedHost";class M extends l{}M.type="Verification";class j extends f{}j.type="MissingCSRF";class V extends l{}V.type="DuplicateConditionalUI";class Y extends l{}Y.type="MissingWebAuthnAutocomplete";class Z extends l{}Z.type="WebAuthnVerificationError";class G extends f{}G.type="AccountNotLinked";class H extends l{}H.type="ExperimentalFeatureNotEnabled";class B extends l{}async function F(t,n,e){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i="".concat(X(n),"/").concat(t);try{var o;let t={headers:{"Content-Type":"application/json",...(null==r?void 0:null===(o=r.headers)||void 0===o?void 0:o.cookie)?{cookie:r.headers.cookie}:{}}};(null==r?void 0:r.body)&&(t.body=JSON.stringify(r.body),t.method="POST");let n=await fetch(i,t),e=await n.json();if(!n.ok)throw e;return e}catch(t){return e.error(new B(t.message,t)),null}}function X(t){return"undefined"==typeof window?"".concat(t.baseUrlServer).concat(t.basePathServer):t.basePath}function W(t){let n=new URL("http://localhost:3000/api/auth");t&&!t.startsWith("http")&&(t="https://".concat(t));let e=new URL(t||n),r=("/"===e.pathname?n.pathname:e.pathname).replace(/\/$/,""),i="".concat(e.origin).concat(r);return{origin:e.origin,host:e.host,path:r,base:i,toString:()=>i}}var $=e(59792);let K={baseUrl:W(null!==(i=$.env.NEXTAUTH_URL)&&void 0!==i?i:$.env.VERCEL_URL).origin,basePath:W($.env.NEXTAUTH_URL).path,baseUrlServer:W(null!==(a=null!==(o=$.env.NEXTAUTH_URL_INTERNAL)&&void 0!==o?o:$.env.NEXTAUTH_URL)&&void 0!==a?a:$.env.VERCEL_URL).origin,basePathServer:W(null!==(u=$.env.NEXTAUTH_URL_INTERNAL)&&void 0!==u?u:$.env.NEXTAUTH_URL).path,_lastSync:0,_session:void 0,_getSession:()=>{}},q=null,z={debug:console.debug,error:console.error,warn:console.warn};async function J(){var t;let n=await F("csrf",K,z);return null!==(t=null==n?void 0:n.csrfToken)&&void 0!==t?t:""}async function Q(){return F("providers",K,z)}async function tt(t,n,e){var r,i,o;let{callbackUrl:a,...u}=null!=n?n:{},{redirect:c=!0,redirectTo:s=null!=a?a:window.location.href,...l}=u,f=X(K),d=await Q();if(!d){window.location.href="".concat(f,"/error");return}if(!t||!d[t]){let t="".concat(f,"/signin?").concat(new URLSearchParams({callbackUrl:s}));window.location.href=t;return}let p=d[t].type;if("webauthn"===p)throw TypeError(['Provider id "'.concat(t,'" refers to a WebAuthn provider.'),'Please use `import { signIn } from "next-auth/webauthn"` instead.'].join("\n"));let v="".concat(f,"/").concat("credentials"===p?"callback":"signin","/").concat(t),y=await J(),h=await fetch("".concat(v,"?").concat(new URLSearchParams(e)),{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({...l,csrfToken:y,callbackUrl:s})}),g=await h.json();if(c){let t=null!==(r=g.url)&&void 0!==r?r:s;window.location.href=t,t.includes("#")&&window.location.reload();return}let m=null!==(i=new URL(g.url).searchParams.get("error"))&&void 0!==i?i:void 0,T=null!==(o=new URL(g.url).searchParams.get("code"))&&void 0!==o?o:void 0;return h.ok&&await K._getSession({event:"storage"}),{error:m,code:T,status:h.status,ok:h.ok,url:m?null:g.url}}async function tn(t){var n,e;let{redirect:r=!0,redirectTo:i=null!==(n=null==t?void 0:t.callbackUrl)&&void 0!==n?n:window.location.href}=null!=t?t:{},o=X(K),a=await J(),u=await fetch("".concat(o,"/signout"),{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({csrfToken:a,callbackUrl:i})}),c=await u.json();if(("undefined"==typeof BroadcastChannel?{postMessage:()=>{},addEventListener:()=>{},removeEventListener:()=>{}}:(null===q&&(q=new BroadcastChannel("next-auth")),q)).postMessage({event:"session",data:{trigger:"signout"}}),r){let t=null!==(e=c.url)&&void 0!==e?e:i;window.location.href=t,t.includes("#")&&window.location.reload();return}return await K._getSession({event:"storage"}),c}null===(r=c.createContext)||void 0===r||r.call(s,void 0)}}]);